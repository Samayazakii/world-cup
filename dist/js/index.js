"use strict";!function(r){r.onload=function(){g()("close")};var a,e,t=[{group:"A",teams:["新加坡国立大学","重庆大学","西安交通大学"]},{group:"B",teams:["桂林电子科技大学","香港中文大学","华北水利水电大学"]},{group:"C",teams:["合肥赛区冠军","墨尔本大学","内蒙古科技大学"]},{group:"D",teams:["西安外国语大学","哈佛大学&耶鲁大学","福建江夏学院"]},{group:"E",teams:["哈尔滨工程大学","山西财经大学","华威大学"]},{group:"F",teams:["国际关系学院","海南大学","吉林农业大学"]},{group:"G",teams:["中山大学","河北大学","世新大学"]},{group:"H",teams:["国防科技大学","华侨大学","艾因夏姆斯大学"]},{group:"I",teams:["东北大学","吉林财经大学","东吴大学"]},{group:"J",teams:["兰州理工大学","云南大学","北京师范大学"]},{group:"K",teams:["中国人民大学","澳门城市大学","山东建筑大学"]},{group:"L",teams:["浙江理工大学","北京师范大学珠海分校","马来亚大学"]},{group:"M",teams:["中国民航大学","爱丁堡大学","武汉理工大学"]},{group:"N",teams:["四川大学","待定大学","清华大学"]},{group:"O",teams:["江西财经大学","南开大学","新南威尔士大学"]},{group:"P",teams:["东北财经大学","加拿大联队","哈尔滨工业大学（威海）"]}],X={},L=[],P=[],x=[],N=[],q="",o=document.getElementById("slide-container"),n=document.getElementById("home-btn"),i=document.getElementById("one-btn"),s=document.getElementById("two-btn"),l=document.getElementById("thr-btn"),m=document.getElementById("fur-btn"),c=document.getElementById("final-btn"),u=document.getElementById("info-reload"),d=document.getElementById("info-next"),g=r.showToast,f=!1;function p(e){var t=e.getElementsByTagName("form"),o=[],a=!0;return[].forEach.call(t,function(e,t){var n=e.getElementsByTagName("input"),r="";[].forEach.call(n,function(e){e.checked&&(r=e.value)}),r?o.push(r):a=!1}),a?(f=!0,1<o.length?o:o[0]):(f=!1,void g()("warn"))}function v(e,t,n){var r,o=[],a=[],i=!0;if(n=n||"two",o=e.map(function(e,t){var n={},r=!1;for(var o in X)o==e&&(r=!0,n=X[o]);if(r)return n;i=!1}),!i)return f=!1,void g()("warn");for(f=!0;0<o.length;){var s=o.shift(),l=o.shift(),m=s.val[0]+l.val[0];switch(n){case"two":a.push('\n                        <form id="'+m+'" class="two-form">\n                            <input type="radio" name="'+m+'" id="'+m+'-0" value="'+s.val+'">\n                            <label for="'+m+'-0" class="two-label two-label_left">\n                                <div class="two-img" style="background-image: url(\'../imgs/school/'+s.img+'\')"></div>\n                                <p class="two-name two-name_left">'+s.team+'</p>\n                            </label>\n                        \n                            <input type="radio" name="'+m+'" id="'+m+'-1" value="'+l.val+'">\n                            <label for="'+m+'-1" class="two-label two-label_right">\n                                <p class="two-name two-name_right">'+l.team+'</p>\n                                <div class="two-img" style="background-image: url(\'../imgs/school/'+l.img+"')\"></div>\n                            </label>\n                        </form>\n                    ");break;case"fur":a.push('\n                        <form id="'+m+'" class="fur-form">\n                            <input type="radio" name="'+m+'" id="'+m+'-0" value="'+s.val+'">\n                            <label for="'+m+'-0" class="fur-label">\n                                <div class="fur-img" style="background-image: url(\'../imgs/school/'+s.img+'\')"></div>\n                                <p class="fur-name">'+s.team+'</p>\n                            </label>\n                        \n                            <input type="radio" name="'+m+'" id="'+m+'-1" value="'+l.val+'">\n                            <label for="'+m+'-1" class="fur-label">\n                                <div class="fur-img" style="background-image: url(\'../imgs/school/'+l.img+'\')"></div>\n                                <p class="fur-name">'+l.team+"</p>\n                            </label>\n                        </form>\n                    ");break;case"final":a.push('\n                        <form id="'+m+'" class="final-form">\n                            <input type="radio" name="'+m+'" id="'+m+'-0" value="'+s.val+'">\n                            <label for="'+m+'-0" class="final-label">\n                                <div class="final-img" style="background-image: url(\'../imgs/school/'+s.img+'\')"></div>\n                                <p class="final-name">'+s.team+'</p>\n                            </label>\n                        \n                            <input type="radio" name="'+m+'" id="'+m+'-1" value="'+l.val+'">\n                            <label for="'+m+'-1" class="final-label">\n                                <div class="final-img" style="background-image: url(\'../imgs/school/'+l.img+'\')"></div>\n                                <p class="final-name">'+l.team+"</p>\n                            </label>\n                        </form>\n                    ")}}r=a.join("\n"),t.innerHTML=r}a=[],e="",t.map(function(r,e){var t,o=[],n={group:r.group,team:r.teams.map(function(e,t){var n={team:""+e,val:r.group+"-"+t,img:r.group+"-"+(t+1)+".png"};return o.push('\n                        <input type="radio" name="'+r.group+'-48" id="'+r.group+"-"+t+'" value="'+r.group+"-"+t+'">\n                        <label for="'+r.group+"-"+t+'" class="one-label">\n                            <div class="one-img" style="background-image: url(\'../imgs/school/'+r.group+"-"+(t+1)+".png')\"></div>\n                            <p>"+e+"</p>\n                            <p>"+r.group+"-"+(t+1)+"</p>\n                        </label>\n                    "),X[r.group+"-"+t]=n})};return t=o.join("\n"),a.push('<div class="one-list_group">\n                    <div class="one-list_title">\n                        <div class="one-list_img" style="background-image: url(\'../imgs/one-group_'+r.group+'.png\')"></div>\n                    </div>\n                </div>\n                <form id="'+r.group+'-48" class="one-form">\n                    '+t+"\n                </form>"),n}),e='<div class="one-list">\n            '+(e=a.join(""))+"\n        </div>",document.querySelector("#list-one").innerHTML=e,n.addEventListener("click",function(){o.setAttribute("style","\n            -webkit-transform: translateX(-10rem);\n            transform: translateX(-10rem);\n        ")}),i.addEventListener("click",function(){!function(){var e=document.querySelectorAll("#list-one form"),o=[],a=!0;if(e.forEach(function(e,t){var n=e.getElementsByTagName("input"),r="";[].forEach.call(n,function(e){e.checked&&(r=e.value)}),r?o.push(r):a=!1}),!a)return f=!1,g()("warn");f=!0,console.log("全部选择完全"),v(L=o,document.getElementById("list-two"))}(),f&&o.setAttribute("style","\n                -webkit-transform: translateX(-20rem);\n                transform: translateX(-20rem);\n            ")}),s.addEventListener("click",function(){v(P=p(document.getElementById("list-two")),document.getElementById("list-thr"),"two"),f&&o.setAttribute("style","\n                -webkit-transform: translateX(-30rem);\n                transform: translateX(-30rem);\n            ")}),l.addEventListener("click",function(){v(x=p(document.getElementById("list-thr")),document.getElementById("list-fur"),"fur"),f&&o.setAttribute("style","\n                -webkit-transform: translateX(-40rem);\n                transform: translateX(-40rem);\n            ")}),m.addEventListener("click",function(){v(N=p(document.getElementById("list-fur")),document.getElementById("list-final"),"final"),f&&o.setAttribute("style","\n                -webkit-transform: translateX(-50rem);\n                transform: translateX(-50rem);\n            ")}),c.addEventListener("click",function(){var e="";for(var t in q=p(document.getElementById("list-final")),function(){document.getElementById("share");var l=document.getElementById("share-eight_left"),m=document.getElementById("share-eight_right"),i=document.getElementById("share-four_left"),s=document.getElementById("share-four_right"),c=document.getElementById("share-two_left"),u=document.getElementById("share-two_right"),e=document.getElementById("share-one_left"),t=document.getElementById("share-one_right"),n=document.getElementById("share-winner"),d=[],r=document.getElementById("share-bg");r.src="../imgs/share-bg.png",d.push(new Promise(function(e,t){r.onload=function(){console.log("onload"),e()},r.onerror=function(){e()}}));for(var o=function(e){var t=L.shift(),n="",r="";for(var o in X)o==t&&(n=X[o]);8<n.team.length?(r=n.team.slice(0,8),r+="..."):r=n.team;var a=document.createElement("div"),i=document.createElement("div"),s=new Image;a.setAttribute("class","eight-item"),i.setAttribute("class","eight-item_name"),s.setAttribute("class","eight-item_img"),i.innerText=""+r,s.src="../imgs/school/"+n.img,a.appendChild(s),a.appendChild(i),l.appendChild(a),d.push(new Promise(function(e,t){s.onload=function(){e()},s.onerror=function(){e()}}))},a=0;a<8;a++)o();var g=function(e){var t=L.shift(),n="",r="";for(var o in X)o==t&&(n=X[o]);8<n.team.length?(r=n.team.slice(0,8),r+="..."):r=n.team;var a=document.createElement("div"),i=document.createElement("div"),s=new Image;a.setAttribute("class","eight-item"),i.setAttribute("class","eight-item_name"),s.setAttribute("class","eight-item_img"),i.innerText=""+r,s.src="../imgs/school/"+n.img,a.appendChild(s),a.appendChild(i),m.appendChild(a),d.push(new Promise(function(e,t){s.onload=function(){e()},s.onerror=function(){e()}}))};for(a=0;a<8;a++)g();var f=function(e){var t=P.shift(),n="";for(var r in X)r==t&&(n=X[r]);var o=document.createElement("div"),a=new Image;o.setAttribute("class","four-item"),a.setAttribute("class","four-item_img"),a.src="../imgs/school/"+n.img,o.appendChild(a),i.appendChild(o),d.push(new Promise(function(e,t){a.onload=function(){e()},a.onerror=function(){e()}}))};for(a=0;a<4;a++)f();var p=function(e){var t=P.shift(),n="";for(var r in X)r==t&&(n=X[r]);var o=document.createElement("div"),a=new Image;o.setAttribute("class","four-item"),a.setAttribute("class","four-item_img"),a.src="../imgs/school/"+n.img,o.appendChild(a),s.appendChild(o),d.push(new Promise(function(e,t){a.onload=function(){e()},a.onerror=function(){e()}}))};for(a=0;a<4;a++)p();var v=function(e){var t=x.shift(),n="";for(var r in X)r==t&&(n=X[r]);var o=document.createElement("div"),a=new Image;o.setAttribute("class","two-item"),a.setAttribute("class","two-item_img"),a.src="../imgs/school/"+n.img,o.appendChild(a),c.appendChild(o),d.push(new Promise(function(e,t){a.onload=function(){e()},a.onerror=function(){e()}}))};for(a=0;a<2;a++)v();var h=function(e){var t=x.shift(),n="";for(var r in X)r==t&&(n=X[r]);var o=document.createElement("div"),a=new Image;o.setAttribute("class","two-item"),a.setAttribute("class","two-item_img"),a.src="../imgs/school/"+n.img,o.appendChild(a),u.appendChild(o),d.push(new Promise(function(e,t){a.onload=function(){e()},a.onerror=function(){e()}}))};for(a=0;a<2;a++)h();for(a=0;a<1;a++){var b=N.shift(),y="";for(var E in X)E==b&&(y=X[E]);e.setAttribute("src","../imgs/school/"+y.img)}for(var w=0;w<1;w++){var I=N.shift(),B="";for(var k in X)k==I&&(B=X[k]);t.setAttribute("src","../imgs/school/"+B.img)}for(var _=0;_<1;_++){var A=q,C="";for(var T in X)T==A&&(C=X[T]);n.setAttribute("src","../imgs/school/"+C.img)}Promise.all(d).then(function(){console.log("promise all")})}(),X)q==t&&(e=X[t].team);document.getElementById("info-school").innerText=e,f&&o.setAttribute("style","\n               -webkit-transform: translateX(-60rem);\n               transform: translateX(-60rem);\n           ")}),u.addEventListener("click",function(){window.location.reload()}),d.addEventListener("click",function(){var e="";for(var t in X)q==t&&(e=X[t].team);document.getElementById("share-info_school").innerText=e,document.getElementById("share-info_word").innerText=document.getElementById("info-words").value,document.getElementById("share-info_nick").innerText=document.getElementById("info-nick").value,r.getImg(),g()()}),r.getImg=function(){var e,n;e=document.getElementById("share"),n=document.getElementById("result"),r.html2canvas(e).then(function(e){var t=new Image;document.querySelector("#qrcode"),t.className="result-img",t.src=e.toDataURL("image/png"),n.appendChild(t)}).then(function(){f&&setTimeout(function(){g()("close"),o.setAttribute("style","\n                        -webkit-transform: translateX(-70rem);\n                        transform: translateX(-70rem);\n                    ")},1e3)})},r.showToast=g}(window);